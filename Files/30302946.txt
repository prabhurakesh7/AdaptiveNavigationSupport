difference approach converting collection array object 
fundamental difference approach converting collection array object approach approach 

difference approaches possibility source collection case modified concurrently possibility concurrency line preferable doesnt strictly apply source collection thread source collection concurrent collection behavior concurrent modification significant case line race condition calling thread size thread add remove element changing size calling thread allocates array em em size passes doesnt result error cases defined read specification href http docs oracle javase docs api util collection html toarray rel nofollow carefully collection grown array allocated making callers array allocation redundant collection shrunk tail array end null elements isnt necessarily error code consumes resulting array prepared handle nulls unpleasant passing length array avoids issues cost allocating useless length array cached version adds clutter collection empty length array simply returned collection elements collection allocates array correct size fills avoids race condition caller handing array wrong size streams api href http docs oracle javase docs api util stream stream html toarray util function intfunction rel nofollow method avoids issue caller pass array factory lets caller type collection proper size hasnt retrofitted covered rfe href https bugs openjdk net browse jdk rel nofollow jdk 