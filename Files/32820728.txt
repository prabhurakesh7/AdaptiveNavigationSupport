simple protobuf compilation gradle 
hard time gradle protobuf create simple gradle project proto files default compile pack jar publish local repo gradle figure original project composed unfinished build gradle file runing jar task href http stack imgur jvrho png rel nofollow img src http stack imgur jvrho png alt enter image description gradle builds test main protos classes directory red arrows jar generated classes included tests skipped main problem make strong compile proto files directly source directories strong blue arrows ordinary build correct thing classes src business logic task compiles proto src directory current project located href https github vach sample gradle protobuf rel nofollow configure pretty lot people 

dont missunderstood question simple solve dont distinguish generated sources add set generatedfilebasedir entire build file folder ul li src main vach tryout addressbookprotos li li src main vach tryout protobuf main li ul strong strong idea mix generate handcrafted source code suggestion generate source code directory em generatedsources em add directory sourceset build file directory src main proto dtos proto src main vach tryout protobuf main generated sources main vach tryout addressbookprotos nice side effect ignore em generated sources em dir git configuration good idea publish generated source code 