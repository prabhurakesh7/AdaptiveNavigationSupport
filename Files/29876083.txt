behavior entryset removeif concurrenthashmap 
concurrenthashmap thread delete items map periodically threads put items map time removing thread wondering assumptions make behavior method iterator elements map check condition remove needed documentation info concurrenthashmap iterators behavior blockquote similarly iterators spliterators enumerations return elements reflecting state hash table point creation iterator enumeration hey throw concurrentmodificationexception iterators designed thread time blockquote call thread iterator thread time wondering events ol li map mapping li li deleting thread starts executing li li deleting thread calls inside call iterator reflecting current state collection li li thread executes li li deleting thread sees mapping iterator reflects state true decides remove key map li li map deleting thread entry removed shouldnt map empty li ol imagine behavior prevented implementation ways iterators reflecting put remove operations reflecting updates remove method iterator checks mapping key present map calling remove key couldnt find info things happening wondering makes case 

managed reproduce case machine problem returned inherits implementation humble opinion considered correct implementation 