jaxb marshaler overwriting file contents 
jaxb marshall objects create xml create list print file create list print file everytime writes final xml file big list objects quickly max heap size main creates bunch threads iterate list objects receives calls create log object finished calls printtofile marshalls list file calls function create log build object generated xsd systemeventtype quoteservertype objects added arraylist function attached root object logthread loop finished calls printtofile takes list root object marshalls file overwriting add file writing creating master list heap edit code objects added arraylist 

jaxb mapping object tree xml document vice versa principle complete object model save xml large data db dump jaxb marshalling object tree fragments letting user control moment object creation marshaling typical case fetching records db marshaling file problem heap appending object tree fresh memory represented xml file appending crating object tree content document root element ul li create xml representation manually initiated root element ul li copy existing xml content xml xmlstreamwriter xmlstreamreader read write operations unmarshaling log objects marshaling li li marshal log objects xml stram li li complete xml root closing element li ul li ul vaguely reading objects large xml file complete implementation answer href http stackoverflow http stackoverflow elegant solution elegant threads write logs list individual files append read copy header file copy content closing tag copy content files ignoring document openkng closing tag output closing tag marshaller set marshaller setproperty marshaller jaxb formatted output true opening closing tag line ugly hack copy lines 3rd output closing tag ugly hack sensitive output format examle change container root element faster implement full jaxb solution 