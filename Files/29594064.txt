error handling propagation spring integration 
read exception thrown flow thing framework check message header error channel property case case assigning custom error channel message header message propagated stream nearest error handler error channel explicitly throw exception inside dosomething exception ends myerrorchannel propagated nearest errorhandler stream error channel stream int mail imap idle channel adapter flows miss outline main principal error handling error propagation talking transactions information scattered systematic 

depends upstream flow async handoff header consulted exception thrown back inbound endpoint general advise modifying framework headers put inbound endpoint imap idle adapter handle errors flow modifying headers directly rarely needed insert error handling mid flow insert messaging gateway downstream flow gateway returns result success add default reply timeout custom service interface method returns void 