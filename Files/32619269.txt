copy field reference local loop 
whats advantage openjdk line href http hg openjdk net jdk8 jdk8 jdk file 687fd7c7986d src share classes lang string l1455 rel nofollow number code snippet notice reference copied local access inside loop field accessed suspect strong performance strong answer faster read local field precise easy read answer data advantage 

bytecode user commented optimization avoid call loop messed reference variable loop condition makes bytecode longer slower methods produce identical bytecode optimized implementation ends calls notice loop test lines h1 lines h2 call getfield array length call bytecode changed loop condition local field bytecode strong strong shorter loses arguably slower getfield call loop dumb test looping method million times jdk consistently shows original method hilariously takes strong times longer run strong optimized correctly optimized methods difference performance guess conclusion storing field locally attempt optimizing methods bytecode jit optimize messed made method lot worse code fixed href https bugs openjdk net browse jdk rel nofollow https bugs openjdk net browse jdk 