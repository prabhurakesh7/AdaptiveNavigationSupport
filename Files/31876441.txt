net bindexception assign requested address opening connections 
running bit code connects closes socket infinite loop port port rpcbind running machine 1st run code ill subsequent runs fail immediately iterations 1st result 28k iterations failure whats connect disconnect loop properly run indefinitely running linux x64 fedora code useless sscce bigger issue investigate strong update strong running ephemeral port exhaustion machine 28k ephemeral ports connections matches error 

system run ephemeral ports bind socket bound 28k ports reason problem opening tcp connection operating system allocates ephemeral port source port binds socket allocated port tcp connection closed connection left time wait state typically minutes due historical reasons href https en wikipedia org wiki file tcp state diagram fixed svg rel nofollow https en wikipedia org wiki file tcp state diagram fixed svg point view time reduced todays systems topic discussion solution reduce timeout sysctl change net ipv4 netfilter ip conntrack tcp timeout time wait low number situation improve application fast consume 28k ports sec exception tcp parameters tune increase range ephemeral ports net ipv4 ip local port range net ipv4 tcp tw reuse net ipv4 tcp tw recycle href http vincent bernat en blog tcp time wait state linux html rel nofollow http vincent bernat en blog tcp time wait state linux html href http www lognormal blog linux tcpip tuning rel nofollow http www lognormal blog linux tcpip tuning 