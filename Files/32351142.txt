httpmediatypenotacceptableexception find acceptable representation exceptionhandler 
image download method controller spring method handle existing file return json error response junit test works flawless strong edit strong extention bla works appserver output appserver error message donwload existing image strong edit strong extention jpg fails junit test jpg extention configured messageconverters mvc configuration missing junit test working 

decide media type response determined spring ways ul li path extension image jpg li li url parameter format jpg li li http accept header accept image jpg li ul default spring em extension em header behaviour changed implement class extends override configure configurer calling set spring header client handle spring return image error json href https spring io blog content negotiation spring mvc rel nofollow spring tutorial content negotiation information examples 