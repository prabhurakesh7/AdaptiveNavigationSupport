spring statemachine statemachinebuilder builds state machine null state 
support concurrent access state machine usual autowired singleton approach build state machine docs href http docs spring io spring statemachine docs build snapshot reference htmlsingle state machine builder rel nofollow http docs spring io spring statemachine docs build snapshot reference htmlsingle state machine builder modest code fails immediately state machine surprisingly null expect sessionstate initial wrong code shown docs result 

simplified idea configure transitions config ill formed builder configuretransitions returns configuration interface annotation based config model check href http docs spring io spring statemachine docs m3 reference htmlsingle configuring transitions rel nofollow http docs spring io spring statemachine docs m3 reference htmlsingle configuring transitions howto todo list add config verifier youd fail fast machine build config wrong complete examples tests href https github spring projects spring statemachine blob master spring statemachine core src test org springframework statemachine config manualbuildertests rel nofollow https github spring projects spring statemachine blob master spring statemachine core src test org springframework statemachine config manualbuildertests 