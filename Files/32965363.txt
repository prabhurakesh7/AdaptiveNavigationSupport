ffmpeg jni pass avframe data back 
code decodes video frame frame point avframe bgr32 send back editing bytebuffer object code created em allocatedirect em struggle write content avframe data uint8 type read back memcpy luck idea achieve update wills comment wrote buffer data returns null bitmap bitmapstream bytebufferinputstream defined href https code google kryo source browse trunk src esotericsoftware kryo io bytebufferinputstream rel nofollow https code google kryo source browse trunk src esotericsoftware kryo io bytebufferinputstream writing things correctly buffer update pretty close latest snippet bgr32 format code bytes pixel modified things bit image correctly issue color channels href http stack imgur ktouk png rel nofollow img src http stack imgur ktouk png alt formats luck 

oracles jni functions documentation br href https docs oracle javase docs technotes guides jni spec functions html getdirectbufferaddress rel nofollow https docs oracle javase docs technotes guides jni spec functions html getdirectbufferaddress blockquote getdirectbufferaddress blockquote blockquote fetches returns starting address memory region referenced direct nio buffer function native code access memory region accessible code buffer object linkage index jnienv interface function table parameters env jnienv interface pointer buf direct nio buffer object null returns returns starting address memory region referenced buffer returns null memory region undefined object direct nio buffer jni access direct buffers supported virtual machine jdk jre blockquote tested code code printed byte indicating data copied correctly strong update strong imageio read accept set bytes format installed imagereaders recognize jpeg png raw byte bytes image strong update strong bgr32 closer notice commented suspect experiment array bandoffsets argument componentsamplemodel constructor fix color model strong update strong reuse samplemodel data image bufferedimage copydata writableraster getraster 