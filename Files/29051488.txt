8u40 math round slow 
fairly simple hobby project written makes extensive repeated math round calls modes operation mode spawns threads queues runnable tasks executorservice runs similar block code times arrays involved nested loops idea prior 8u40 code resembles complete full run billion instruction blocks seconds amd a10 7700k 8u40 takes seconds thing code update noticed math round slower repetitiously jvm sort optimization isnt anymore simd prior 8u40 isnt strong edit strong completed attempt mvce download attempt href https www dropbox rm2ftcv8y6ye1bi mathroundmvce zip dl rel nofollow https www dropbox rm2ftcv8y6ye1bi mathroundmvce zip dl attempt attempt removed post deemed long prone dead code removal optimizations jvm apparently happening 8u40 long story short code performed 8u25 8u40 recording results calculations arrays summing arrays timed portion loop local variable written static variable end outer loop 8u25 total execution time milliseconds 8u40 total execution time milliseconds test conditions 8u25 8u31 dead code removal 8u40 stopped causing code slow 8u40 doesnt explain weird thing cropped appears bulk added bonus suggestions answers provided inspiration improve parts hobby project grateful 

h2 mvce based op h2 ul li simplified li li changed statements reduce chance dead code removal difference 8u31 8u40 factor 3x slower difference slower li li print result reduce chance dead code removal optimisations li ul code results observations ul li trivial math round float find difference performance platform linux x86 difference benchmark previous naive incorrect benchmarks exposed differences behaviour optimisation ivans answer marco13s comments point li li 8u40 aggressive dead code elimination previous versions meaning code executed corner cases slower li li 8u40 takes slightly longer warm quicker li ul h2 source analysis h2 surprisingly math round float pure implementation native code 8u31 8u40 identical 