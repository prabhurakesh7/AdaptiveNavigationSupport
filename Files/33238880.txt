spring integration dsl flow splitter aggregator delete file processing lines 
spring integration dsl constructed flow processing files synchronously flag delete file converting line subsequent processing works fine slow attempt add aforementioned delete flag flow complete successfully deleting file completely read remove flag potential exhaust local file system files synchronized s3 strong introduce process file completely delete file local filesystem strong words file completely processed lines processed asynchronously threads pool youre curious heres impl strong update strong downstream flow incidentally advice correctly update pool thread org springframework integration handler logginghandler error org springframework integration transformer messagetransformationexception failed transform message nested exception lang illegalargumentexception json argument instance class lang string class class io file class net url class io inputstream class io reader class org springframework integration file splitter filesplitter filemarker org springframework integration transformer abstracttransformer transform abstracttransformer 

artem manage address issue heavy weight manner introducing caused ripple implementation adjustments including turning flag updating jpa repository capture file processing status processing status entire run processing status updates lets flow delete files local filesystem theyre fully processed return status endpoint user run completed snippets implementation anyones curious updated flow share repo implementations 