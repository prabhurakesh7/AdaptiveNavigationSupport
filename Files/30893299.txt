sharing data multiple threads updated 
create application make rest calls multiple users access token thread user access token valid hour token expires error update token threads continue thinking volatile variable made static update threads requirement moment threads token expired threads stop processing wait till token generated takes couple seconds generated token updated automatically thread failing due expired token sample code written approach problem code satisfies case thread starts generating token threads paused request suggest improvements 

put token href https docs oracle javase docs api util concurrent atomic atomicreference html rel nofollow atomicreference href https docs oracle javase docs api util concurrent semaphore html rel nofollow semaphore pause threads atomic ensure thread refresh token calls threads wait token refreshed returns token isnt waits loop thread spin cycles set called hr edit modified signature token passed read inside method prevent situation restservice refreshes token restservice expired token restservice calls restservice call completed resulting token refreshed signature restservice pass expired token call fail token fails match token resulting called 