jpa jpql join subselect subquery 
trouble translate easy sql statement jpql subquery supported jpql give hint achieve result jpql jpa2 criteria api simplified fake data demonstrate problem expected result jpql working expected 

replace keyword hibernate specific 