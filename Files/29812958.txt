execution bubble sort times slower indy 
wrote implementation bubble sort play bit groovy noticeable effect performance essentially sorts list thousand random integers thousand times measures average execution time sorting list half time list half results confusing cpu usage benchmarks running cpu usage lot higher compiled img src http stack imgur ayh0a png alt cpu usage intrigued ran benchmarks time yourkit agent cpu tracing enabled recorded call trees href http stack imgur dpcni png rel nofollow img src http stack imgur dpcni png alt call tree lt code gt indy lt code gt href http stack imgur pcglx png rel nofollow img src http stack imgur pcglx png alt call tree lt code gt indy lt code gt performance charts time scale code slower 1s scale href http stack imgur op0nz png rel nofollow img src http stack imgur op0nz png alt performance lt code gt indy lt code gt 60s scale href http stack imgur hfei1 png rel nofollow img src http stack imgur hfei1 png alt performance lt code gt indy lt code gt cpu usage stabilises core graph compiled varies wildly compiled whats confusing yourkit reports live thread code main thread manages half cores occupied code compiled lot kernel time start drops stabilises point code speed bit heap usage growth rate increases cpu usage increases explain behaviour versions bubblesort groovy interested optimisations bubble sort implementation related behaviour aim isnt write performing bubble sort grips large negative performance impact update converted code jruby thing results similar jruby isnt quick update remove code list half time performance increases significantly faster jruby faster 

answer easy easy groovy pic inline cache size means time change list array type invalidate caches exist cached version thrown normal groovy indy normal groovy runtime generated classes indy invokedynamic lambda forms lambda forms initially slower peak performance basically hotspot start scratch method calls preventing apply optimizations time fault fault groovy pic make clear problem language simply implement jruby hand pic suffer overhead creating method handles time 