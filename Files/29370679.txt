elasticsearch curl delete queryapi 
elasticsearch delete documents deletebyquery api wasnt perfect regular outofmemoryerror works time elasticsearch documentation read blockquote deprecated delete query removed problematic silently forces refresh quickly outofmemoryerror concurrent indexing primary replica inconsistent scroll scan api find matching ids issue bulk request delete blockquote scroll scan api delete dont understand href http www elastic guide en elasticsearch reference search request scroll html rel nofollow documentation api href http www elastic guide en elasticsearch client api current search html rel nofollow documentation api doesnt complete missing deleting ps understand curl matter final 

ran issue find good code ill show feel free comment refined set size results query integer max query return results deleted ol li run query ids deleted li li add delete requests ids bulk request li li run bulk request li li run query records deleted li li repeat li ol 