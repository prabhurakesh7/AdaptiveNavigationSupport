windows batch file wmic pid process set tokens variable test pids exist start prompt restart 
strong operating system windows br process concurrency locking thread strong creating bat file works lock check process exists perform strong relevant observations strong positive strong strong populated figured set strong pid strong run cmd line setting variable br em updated overly verbose title reflect realization em specifically set variable strong processid exists strong wmic return simple return pid strong br commandline processid strong strong clearer question strong br alter add code store data variable br pid populated due running br console command performing assignment br id deal test assignment valid br exists comparator br strong update strong read set work dice empty pid attempt variants entire command tokenizing loop strap boot extremely finnicky escapes required wmic windows bat files strong syntax champions scry errors code strong extremely grateful strong solution strong primary issue escaping characters wmic batch files requires lot caret escapes missed lesson learned nesting entire statement key pid set token sources hinted set pid work future batch scripting friends solid advice powershell readily parse loop similar man pages couple reasons ps dont barbecue post encourage post critiques order improve 

quote token skip line wmics output header assign blanks variable blank quoting caret skip loop strong edit strong br op didnt work reflected code comment create threads ad hoc test dont threaded processes pc moment 