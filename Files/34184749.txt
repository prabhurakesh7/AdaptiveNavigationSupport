write getinstance method thread 
method library multiple threads thread thread explain thread 

blockquote thread explain thread blockquote thread effect href https en wikipedia org wiki double checked locking rel nofollow double check locking error protect published em em fully instantiated doesnt wont publish end synchronized block synchronized method thread calling reference partially initialized instance additional creating thread publishes guarantees thread update memory object cached memory partial objects critical memory issues ways make ul li easiest make forces write memory barrier crossed written read memory barrier crossed accessed fixes double check locking bug li li instantiate object class load synchronously li li wraps object making similar li li make fields object fully constructed constructor finishes bad pattern stops memory model reorder constructor initialization em em object constructed href http shipilev net blog fields final rel nofollow read page li ul lets threads thread1 calls calls constructs publishes variable reaches end block published central memory thread2 calls reference parts memory cached date cross read memory barrier mechanism thread2 forced update memory cache ensure properly shared fields updated memory synchronization applied em em publisher consumer threads memory race conditions occur hr 