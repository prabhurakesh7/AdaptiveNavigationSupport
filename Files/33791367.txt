jaspic wildfly validaterequest session 
based href https github javaee samples javaee7 samples blob master jaspic register session src main org javaee7 jaspic registersession sam testserverauthmodule rel nofollow jaspic wrote method works expected call ejb call work wildfly denies error message guess error occures href https github wildfly wildfly blob master security subsystem src main org jboss security service simplesecuritymanager l367 rel nofollow line wilflys source code due href https github wildfly wildfly blob master security subsystem src main org jboss security service simplesecuritymanager l405 rel nofollow line checked equal wildfly 10cr versions tested wrong bug href https issues jboss org browse wfly rel nofollow https issues jboss org browse wfly bug expected behavior 

sounds bug caller identity caller group appears retained subsequent calls web ejb container jaspic classes function properly glassfish fail reason wildfly final cr4 plain servlet slsb marked unfamiliar wildfly security internals assist respect patched sole sam level workaround time em em callback property seemingly triggers problem register caller em em groups invocation applicable case attach information speed process bit repeat scratch tested aforementioned wildfly versions aforementioned fashion single servlet referencing single slsb marked method level work expected guarantee approach fail unexpected ways hr ul li href https issues jboss org browse wfly wfly li li href https issues jboss org browse security security li li href https issues jboss org browse security security li ul 