spring boot overriding default profile datasource 
ton trouble overriding jndi datasource spring boot h2 database test application yml similar run maven test class settings spring boot continues jndi datasource throwing exception spring preferring amp 

situation default situation profile run attempt merge default giving preference profile conflict environment applying test appears datasource giving preference jndi fix test simply changed application yml read sources shows jndi annotation autoconfigurebefore xadatasourceautoconfiguration class datasourceautoconfiguration class blockquote branch href https github spring projects spring boot blob spring boot autoconfigure src main org springframework boot autoconfigure jdbc jndidatasourceautoconfiguration rel nofollow https github spring projects spring boot blob spring boot autoconfigure src main org springframework boot autoconfigure jdbc jndidatasourceautoconfiguration blockquote datasourceautoconfiguration sets datasource based url shows configures datasource class bean jndi sets blockquote branch href https github spring projects spring boot blob spring boot autoconfigure src main org springframework boot autoconfigure jdbc datasourceautoconfiguration rel nofollow https github spring projects spring boot blob spring boot autoconfigure src main org springframework boot autoconfigure jdbc datasourceautoconfiguration blockquote 