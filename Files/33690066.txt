circular reference issue spring hibernate jpa multi tenancy implementation 
issues setting multi tenancy support web application separate database approach spring jpa hibernate hibernate implementations spring ill solution named explain problem achieve ol li master database data users databases li li user logs save database id session scoped bean named li li filled datasources representing databases master databases table li li connection needed retrieve database id users instance li ol cases hibernate spring end circular reference exception issue arises autowire exception dont understand exception doesnt single reference relevant thing call master databases entitymanager context file relevant parts application context file h2 userroutingdatasource h2 h2 application context h2 things understand dependency injection works idea missing h1 solution h1 solved issue romans answer gave idea session scoped bean determine current lookup key spring security authentication user logs important part users current state working configuration h2 userroutingdatasource h2 h2 application context h2 

spring iterates inside find factory property equals attribute candidate found bean instantiated process workaround make regular class 