weld beanmanager ejb 
deploy ear infamous weld stacktrace em problem weld inject ejb inject cdi managed bean managedbean lib shared jar em standard supposed work strong update strong ejb jar xml relevant location strong update2 strong created minimal versin href https github bseiller stackoverflow github strong setup research findings detailed questions end strong glassfish weld final error payara weld final ee strong layout ear strong shared jar aejb ejb residing ejb jar anothercdidependency pojo shared jar class resides ejb jar strong beans xml cdi strong strong ejb jar xml strong strong stacktrace strong strong research findings strong ul li debugging validator validateinjectionpointfordeploymentproblems beanmanager lib shared jar instance aejb enterprisebeans collection time collection ups dependencies li li injection ejb classes anothercdidependency works fine classes shared jar li li injecting aejb inject anothercdimanagedbeanpojo resides ejb jar read toplevel lib works fine li ul strong questions strong ul li question beanmanager inject ejb standard shared libs injected global ejbs find li li easiest easy means changing code creating big mess trouble li li bonus question comment beanmanagerimpl getbeans injectionpoint injectionpoint faq blockquote cache assume people dont inline annotation literal declarations risky faqd blockquote li ul ps read lot stuff classloading context cdi special behaviour application servers topics ul li href https struberg wordpress cdi ears https struberg wordpress cdi ears li li href http balusc omnifaces org cdi behaved unexpectedly ear html http balusc omnifaces org cdi behaved unexpectedly ear html li ul disclaimer called research 

rules class visibility ear files laid ee specification v7 summary module ear effectively class loader jars ear lib directory considered single module purposes class visibility classes ear lib module class loader automatically made visible modules converse true classes modules automatically accessible ear lib module ee implementations provide ways restrictions expense making application portable solution move shared jar root ear manifest class path entries jar ensure access meta inf manifest mf shared jar ejb jars classes moved sample jar manifest class path entries jar moved experience doesnt work 