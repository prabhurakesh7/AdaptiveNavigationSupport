threads busy waiting 
project reached part stuck search ways learn write loop busy wait havent found code runs infinite loop explain busy waiting loop work break infinite loop project happen morning student wakes random time head bathroom ready school day bathroom student takes break yield wait busy waiting bathroom students bathroom serve basis boolean array vector released order main method user student threads dont understand implement change busy wait loop broken 

working busy wait atomicboolean bathroom occupied atomic operations executed step important guarantee thread safety normal boolean write equivalent implementation needed threads succeed test executed operations arent em atomic em people bathroom output bob sleeps ms br marcia sleeps ms br alice sleeps ms br peter sleeps ms br desmond sleeps ms br sophia sleeps ms br peter bathroom br peter bathroom br alice bathroom br alice takes break br peter university br desmond bathroom br desmond bathroom br bob bathroom br bob takes break br sophia bathroom br sophia takes break br alice takes break br desmond university br bob bathroom br sophia takes break br alice takes break br marcia bathroom br marcia takes break br bob university br sophia bathroom br alice takes break br marcia takes break br sophia university br alice bathroom br marcia takes break br alice university br marcia bathroom br marcia university 