calling rust 
rust beta create small calling functions written rust simply compiled rust code mylib rs rustc produces mylib dll windows call functions class tests test running main prints expected result rust methods declared pointer type reality struct pointers functions href http docs oracle javase docs technotes guides jni spec functions html documentation code required exchange data runtime href http stackoverflow answer understood structs function pointers counterpart rust code call functions implement struct setting field values field call function call getversion function jvm crashes call getversion function correctly kind stuff feel free edit question required 

problem fat pointers fact native jni functions em double indirection em accessing structure pre class lang prettyprint override pointer structure fields presented accepts pointer requires pointer pointer rust program works machine rust nightly code work beta external libc crate pre class lang rust prettyprint override counterpart pre class lang prettyprint override invocation pre class lang prettyprint override 0x10008 running oracle jvm guess omit field structure passed pointer em em fields structure declare ignore rest 