deflater deflate small output buffers 
strange situation small output buffers 8u45 href http docs oracle javase docs api util zip deflater html deflate byte int int int rel nofollow method small output buffers working low level networking code related websockets upcoming extension small buffers reality code pre class lang prettyprint override case attempting generate compressed bytes input output buffer bytes length assume resulting bytes pre class lang prettyprint override translates pre class lang prettyprint override small buffer normal loop continues infinitely bytes compressed data manifest buffers bytes lower resulting output running demo pre class lang prettyprint override make input output larger bytes problem make input string test results making buffer bytes input pre class lang prettyprint override results bit quirky deflate tail byte sequences present guess ultimate question missing usage making thing odd pointing bug jvm implementation strong update aug strong discovery accepted href http bugs bugdatabase view bug bug id jdk rel nofollow bugs jdk 

zlib feature documented zlib blockquote case full flush sync flush make avail greater avoid repeated flush markers due avail return blockquote happening call inserting byte flush marker providing output space marker call output insert em em flush marker time calling em em output additional calls 