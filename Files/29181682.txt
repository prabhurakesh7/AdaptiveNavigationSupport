performing reduction single pass 
idiom performing reduction single pass stream big reducer class violates srp type reduction computation required 

avoid making multiple passes pipeline stages expensive avoid collecting intermediate values order run multiple collectors cost storing values high href http stackoverflow questions performing reduction single pass comment46586618 brian goetz noted collect values perform multiple reductions returning aggregate structure called similar collectors summarizing values perform fixed set reductions reductions write collector heres technique multiple unrelated collectors single pass crack stream passing undisturbed operation takes adapt collectors em accumulator em function call collectors em supplier em function store object creates passing em accumulator em function result collector wrap collector helper class create wrapped collector hang run pipeline call passing wrapped collector finally call wrapped collector result heres simple filters sorts words grouping letter output bit cumbersome write generic types wrapped collector bit unusual theyre inferred expense processing storing stream values great worth trouble finally called multiple threads stream run parallel reason thread collectors protected block collector thread neednt synchronize calling determine check collectors characteristic run parallel stream preferable place concurrent collector operation synchronization wrapped collector bottleneck slow entire stream 