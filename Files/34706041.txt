manage service instances declarative services 
build service osgi read files format service interface data object class defines data structure files read supposed kind data idea service implementations implementations xmlfilereader mdfilereader finally filereaderfactory ds inject filereaderservices factory list dynamically depending services provided support file format questions feasible ds ds annotations edit christians solution didnt work full code downloaded href https github neopium filereader rel nofollow https github neopium filereader 

christian schneider solution reference annotation karaf crash answer felix scr source code found lines causing exception class org apache felix scr impl metadata referencemetadata felix scr happy attribute field collection type set service component xml null cardinality changed annotation added factory service consumer order test application works interested fixed source code href https github neopium filereader rel nofollow https github neopium filereader 