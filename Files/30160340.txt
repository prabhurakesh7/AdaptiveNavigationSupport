nullpointerexception return 
strange problem nullpointerexception code issue production stack trace unable produce kind stack trace environment issue reason line numbers dont match null references variable stack trace points specific line line em produce nullpointerexception line specifically em 

line number stack trace linenumbertable attribute class file href https docs oracle javase specs jvms se7 html jvms html jvms jvm specification problem output line number subexpression compiler byte code index correspondence source code line including bug compiler fixed href https bugs openjdk net browse jdk https bugs openjdk net browse jdk blockquote description problem linenumbertable compiled code line numbers starts statements statement method chaining fluent interface style apis single statement span tens lines hundreds method invocations exception throw methods linenumber line enclosing statement makes hard debug method call problem linnumbertable correct line numbers method invocation blockquote blockquote bt2 evaluation simple fix kinda risky end jdk7 development cycle targetting jdk8 blockquote wrong reported line number kind subexpressions occurred method invoked method subexpression method caused nullpointerexception reported bug isnt big problem work taking compiler compile source code flags safer upgrade prod environment 