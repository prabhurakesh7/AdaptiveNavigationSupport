spring security activedirectoryldapauthenticationprovider badcredentialsexception partialresultexception 
read spring security ldap activedirectory stackoverflow found tips hints wasnt solve problem configure spring security user service custom login page working fine switch final authentication provider activedirectory security applicationcontext xml remind setup working fine user service authentication provider file imported bean myadprovider change constructor argument fsapps company uni company uni doesnt change error problem due fact binding search performed wrong filter amp userprincipalname objectclass user amp samaccountname objectclass user wasnt figure change ldap provider switched ldap provider make working success stumbling problem place upgraded spring framework release spring security release reading issue activedirectoryldapauthenticationprovider hope issue resolved meantime original discussions issue version configuration ldap setup make authentication working active directory time left bean configuration part ad provider reference isnt working pass user group search paths ad provider alternatively configure ldap provider work ad complete authentication message receive log ldap setup ad setup explained bad credentials essentially due wrong search path hope provide required information provide hints guidance solve configuration problem h1 update h1 figured add search filter activedirectoryldapauthenticationprovider watched wireshark exchange application server ad server findings solution problem updated security applicationcontext xml thrown ldap server stuff concentrate making activedirectoryldapauthenticationprovider work cleaner configuration read comments configuration myadprovider bean definition constructors argument fsapps company uni create principal form username fsapps company uni build baseobject search request baseobject form dc fsapps dc company dc uni constructors argument establish communication element property type searchfilter invoke setsearchfilter method class activedirectoryldapauthenticationprovider set search filter seeking originally make progress set search amp samaccountname objectclass user setup wireshark ldap conversation binding succeeds bind response success search request succeeds return result log provide careful examination appears constructors argument construct baseobject userprincipalname problem setup userprincipalname domain domain ldap url campus company good change argument match domain construct users principals problem change baseobject match ldap urls schema fsapps company uni documentation method set search filter constructor arguments argument providing baseobject problem solved configuration setters constructors arguments make working myadprovider bean definition follow case searchfilter property omitted fallback default long description setup problem hope benefit link activedirectorldapauthenticationprovider class documentation href http docs spring io autorepo docs spring security release apidocs org springframework security ldap authentication ad activedirectoryldapauthenticationprovider html http docs spring io autorepo docs spring security release apidocs org springframework security ldap authentication ad activedirectoryldapauthenticationprovider html found wireshark helpful application server ad server debug problem 

solve problem context referral follow fact problem lies code method searchforuser class activedirectoryldapprovider method method springsecurityldaptemplate searchforsingleentryinternal called bindprincipal fact userprincipalname composed arguments passed constructor argument username set search filter userprincipalname passed userprincipalname argument filter samaccountname work upn throw exception searchforuser modified augmented detect searchfilter needing username upn extra setters provided set arguments patterns searchfilter make class working correctly situation modifying code finally wrote class basically carbon copy original activedirectoryldapauthenticationprovider single simple modification searchforuser passing username bindprincipal searchforsingleentryinternal bit nonsense enter search filter forced single argument userprincipalname 