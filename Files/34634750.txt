netty exceptioncaught event fired reached tail pipeline textwebsocketencoder 
simple web socket decode encode exception pass textwebsocketdecoder handler simple initializer work find textwebsocketencoder textwebsocketframehandler textwebsocketdecoder textwebsocketencoder textwebsocketdecoder textwebsocketencoder 

h2 exception h2 inside textwebsocketframehandler calling passes message chain isnt prepared deal explain problem explain messagetomessagedecoder works works catching message upstream passing custom code custom code handles work mtmd handles closing resource passed passing reference side effectively closing websocketframe multiple times causing bugs messagetomessagedecoder warns href http netty io api io netty handler codec messagetomessagedecoder html rel nofollow javadoc solve problem follow instruction manual make channelread h2 sending back problem h2 inside comments stated code doesnt send back expected pipeline consumes data passes chain fix require rework pipeline ol li swap order json webframe decoder encoder decoder generating output send back chain handlers output wont encoder decoder decoder shouldnt called decoder netty naming li li change decoder send generated data back chain existing void make extend handling messages passing handler changing signature decode method add boilerplate code li li adapt code pass result pipeline li ol notice tempted remove previous code exception trigger undefined behavior ran async nature netty 