detect spurious wakeup 
read posts answer href http stackoverflow http stackoverflow claimed bounty suggesting test interrupted flag tested work question remains detect spurious wakeup output 

h3 spurious wakeups em em h3 strong subject spurious wakeups strong low level system call sleep takes care detail entering system call woken prematurely user exposed spurious wakeups spurious wakeups unrelated thread interruption separate tool threads spuriously interrupted thread interrupted means called thread find code culprit h3 spurious wakeups em em h3 test spurious wakeups run tests classic method suffers na ve simply call expecting return thread calls message sending loop fail spuriously wakes message added queue solution add loop verify condition time thread woken simplest simulate spurious wakeup simply strong call changing loop condition strong exact effect thread performing encountered spurious wakeup incorrect code wont realize queue empty crash correct code check condition safely enter call 