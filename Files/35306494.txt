activemq messages dequeud consumed 
jboss web application embedded hornetq jms switch activemq ha cluster running strange issues queues periodicderivationqueue behaving hornetq amq console shows messages enqueued dequeued making consumer assumed messages dequeuing dlq reason doesnt case understand amq create dlq broker dlq figure messages trouble debugging app side stack due reflection id set breakpoint amq side whats happening messages put ideas serialization issue heard differences serialization jms brokers lead strange behavior stuck appreciated config info wildfly amq strong consumer messages making strong strong consumer xml config strong strong activemq standalone xml jboss strong strong queues topics strong strong broker config strong strong hornetq standalone xml jboss strong strong queues topics strong 

objectmessage serialization security issue objectmessage objects depend serialization marshal unmarshal object payload process generally considered unsafe malicious payload exploit host system starting versions activemq enforces users explicitly whitelist packages exchanged objectmessages days ago added white list didnt fix issue running amq didnt work apparently added security feature added dorg apache activemq serializable packages client side amq vm arguments working mind command line option security vulnerability explicitly opened broker malicious user execute code system flag explicitly list classes deserialized package wildcards avoid explicitly listing individual classes subpackages trusted parent package 