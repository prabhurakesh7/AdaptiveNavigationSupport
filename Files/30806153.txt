spring tests closing embedded database multiple times 
h2 embedded database defined tests tests execution log entity manager closed context tests execution spring caches context files guess h2 bean shared tests strong problem strong weird exception fix found href http stackoverflow questions spring embedded h2 datasource db close exit spring embedded h2 datasource db close exit 

spring framework potentially results clash spring h2 attempting shut database conflict addressed spring framework href https jira spring io browse spr rel nofollow spr details specifically spring embedded h2 databases created connection url database testdb behavior embedded h2 database versions spring prior manually create connection url similar blockquote entity manager closed context tests execution spring caches context files guess h2 bean shared tests blockquote em spring testcontext framework em caches tests test classes embedded h2 database strong strong shared contexts scenario youve outlined end context referring memory database sooo problem encountering due fact attempting shut exact memory database solve problem defining unique embedded database time created details topic read jira issues resolved spring tips achieve goals ul li href https jira spring io browse spr rel nofollow https jira spring io browse spr li li href https jira spring io browse spr rel nofollow https jira spring io browse spr li ul sam 