spring amqp rabbitlistener polling hood 
h2 summary h2 asynchronously handle messages amqp rabbitmq queue implemented method spring rabbit listener polling queue hood expected expected listener notified rabbitmq poll expected consume messages asynchronously spring amqp polling h2 observed h2 send message correctly picked listener continuous stream log messages listener continues poll empty queue log message basically repeats infinitely h2 test code h2 methods interesting part rest spring configuration 

polling rabbitmq message arrives asynchronously rabbit internal queue consumer handing message listener thread blocked waiting arrival debug message listener thread times waiting message arrive rabbitmq increase reduce logs simply disable debug logging increasing timeout make container responsive container requests strong edit strong response comment interrupt thread bit involved receive timeout ack messages lets ack messages message people improve performance high volume environments timeout ack messages timeouts lets messages arrive seconds timeout seconds messages acked long time default configuration ack 19th message arrives overhead timeout simply loop back wait unusual increased container stopped context closed people stop start containers time 