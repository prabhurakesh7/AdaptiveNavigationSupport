route logs based marker routingappender log4j2 
href http logging apache org log4j manual filters html markerfilter rel nofollow filter messages markers route message based marker href https logging apache org log4j manual appenders html routingappender rel nofollow routingappender dont filter arguments multiple times multiple appenders heres configuration sample yaml documentation stipulates blockquote pattern evaluated registered lookups result select route blockquote href https logging apache org log4j manual lookups html rel nofollow lookup markers loglevel add custom em markervalue em em loglevelvalue em href https logging apache org log4j manual lookups html contextmaplookup rel nofollow threadcontextmap dont find solution efficient duplicates information documented impossible built access values lookup 

documentation routingappender shows threadcontext lookup routing work lookups idea create custom lookup custom lookup implemented log4j2 plugin log4j2 find plugin enable strong packages yourcustompackage strong configuration file plugin class classpath log4j find heres plugin code custom lookup configuration file credits log4j2 developers href https issues apache org jira browse log4j2 rel nofollow https issues apache org jira browse log4j2 strong update strong built version write custom plugin 