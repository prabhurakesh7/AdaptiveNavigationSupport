equivalent function anova lm 
comparing linear models anova thing simplify code href http stats stackexchange questions intercept values simple linear regr http stats stackexchange questions intercept values simple linear regr modified bit models coefficients models implemented fits results lm pvalue pvalue method find correctly equivalent rs full code coefficients anova coefficients anova result 

youre misunderstanding anova case compare regressions anova sense equivalent function function hand implements multitude tests comparison models confusing compare regression models test sums squares code anova sets regression parameters differ significantly code order calculate correct test ol li calculate mse largest model dividing residual sum squares rss degrees freedom df table li li calculate msedifference substracting rss models result sum sq table substracting df models result df table divide numbers li li divide li li calculate df df difference numerator df largest model denominator li ol class olsmultiplelinearregression doesnt convenient methods extract number degrees freedom straight forward youll calculate df manually class calculate anova table column table difference table divided table disclaimer bad programmer code conceptual actual code typos stupid mistakes check documentation class href https commons apache org proper commons math apidocs org apache commons math3 distribution fdistribution html cumulativeprobability 28double rel nofollow https commons apache org proper commons math apidocs org apache commons math3 distribution fdistribution html cumulativeprobability 28double statisticians hr edit code class fdistribution jsci part code depending exact implementation cumulative probabilities differ slightly alas idea difference trusted 