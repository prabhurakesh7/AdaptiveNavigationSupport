concurrenthashmap crashing application compiled jdk targeting jre 
ran unexpected error today find fix problem completely understand code working originally written jdk environment targeting jre code needed iterate keys map javadocs return worked fine build environment switched jdk8 moved jdk8 ensured calling target source calling javac pretty surprised code started failing wanted iterate keys map error thrown exception thread simply stopped research found java8s implementation method returns fixed problem switching guess problem project compiled targeting java7 jdk8 java8 libraries included didnt thrown error exception hit mismatch asked code snippet compiling oracle jdk build target source javac windows server code running oracle jvm build running windows server 

compile code javac source target run exception thread main lang nosuchmethoderror util concurrent concurrenthashmap keyset ljava util concurrent concurrenthashmap keysetview stackoverflowt test processing test stackoverflowt test main test byte code public void processing code aload getfield field map ljava util concurrent concurrenthashmap invokevirtual method util concurrent concurrenthashmap keyset ljava util concurrent concurrenthashmap keysetview invokevirtual method util concurrent concurrenthashmap keysetview iterator ljava util iterator astore referring explicitly concurrenthashmap keysetview present mac change code map interface works bytecode public void processing code aload getfield field map ljava util map invokeinterface interfacemethod util map keyset ljava util set invokeinterface interfacemethod util set iterator ljava util iterator astore 