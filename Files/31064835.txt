detect datainputstream end stream 
working server game servers packet reading loop blocking typically waits packet received continue loop client disconnects datainputstream returns single byte loop executed rapid succession expected dont datainputstreams read method read byte time read byte method read byte array easily detect stream returning single byte valued strong solution strong check byte array loop array rest array zeroes extremely inefficient feel affect performance client count increases heres simplified version packet reading loop 

understanding href https docs oracle javase docs api io datainputstream html read byte rel nofollow incorrect doesnt set array javadoc blockquote strong returns strong total number bytes read buffer data end stream reached blockquote check return side reading data check number bytes read number bytes requested call guaranteed fill array href https docs oracle javase docs api io datainputstream html readfully byte rel nofollow read fully throws end stream blockquote reads bytes input stream stores buffer array number bytes read equal length method blocks conditions occurs ul li bytes input data case normal return made li li end file detected case thrown li li error occurs case thrown li ul blockquote 