jpa storedprocedurequery postgresql ref cursors 
function created postgresql db call jpa 1s storedprocedurequery method postgresql query simple query count users day demo query test storedprocedurequeries work fact works fine postgresql lets call jpa javaland back exception single ref cursor declared fact register single ref cursor parameter hardcode postgresql function date date call works fine adding additional parameters storedprocedurequery ref cursor breaks functionality ref cursor parameters works fine strong happen adding parameters storedprocedurequery postgresql function breaks strong works javaland 

short answer reverse order calls long answer digging href http grepcode file repo1 maven org maven2 org hibernate hibernate core final org hibernate procedure internal postgrescallablestatementsupport rel nofollow hibernate source code postgress callable statement support found call creates href http grepcode file repo1 maven org maven2 org hibernate hibernate core final org hibernate procedure spi parameterregistrationimplementor rel nofollow instance tacked list passed youll class stores position parameter independent position list list href http grepcode file repo1 maven org maven2 org hibernate hibernate core final org hibernate procedure internal postgrescallablestatementsupport postgrescallablestatementsupport rendercallablestatement 28java lang string 2corg hibernate procedure spi parameterstrategy 2cjava util list 2corg hibernate engine spi sessionimplementor rel nofollow analyzed assumes parameter line throws error message parameter em parameter number em bright things imho workaround easy swap order calls fine 