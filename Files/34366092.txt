stored procedure returns single integer return code running heap space 
refactoring code previously amp jdbc calls amp spring stored procedure calls created classes extend org springframework jdbc object storedprocedure constructor sets parameters execute puts parameters input map calls execute super class input parameter map stored procedure runs awhile thing returns single number return code calling stored procs move data database call leaking memory run big data set starts throwing kicker stored proc amp code handle calling stored proc amount data running memory guessing missing setting storedprocedure class causing issue pretty framework stored procedure class code calling stored proc code calling stored proc refactor stack trace memory error 

checking map pulled execute line extract class extends storedprocedure showed map entries including messages stored procedure amp update count entry update made stored proc called amp secondary stored procs initial called method needed add calling execute method skip undeclared results reduced map entry return code number 