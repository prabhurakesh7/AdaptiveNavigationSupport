create xsd based root element 
xsd shown extract root elements xsd create separate xsd root element pragmatically framework library aid achieving 

em xsl em multiple output documents define file file content default em em support em xsl em perfect incredible em href http www saxonica xml rel nofollow saxon em download em saxon em href http sourceforge net projects saxon files saxon saxonhe9 6j zip download rel nofollow unzip add em saxon9he jar em project xsl made works idea user href http stackoverflow users laune laune exposed href http stackoverflow questions create xsd based root element comment49745708 comment produces output schema element schema element types schema em xs element em em xs include em including schema types simple clever opinion method easy understand youre familiar xsl xsl comments xsl xsl code needed calling em saxon em xsl transformation produce output files names dynamically derived em xsl em main schema xsl running code files created filenames indentation lost schema element customer xsd schema element order xsd schema types xsd h2 update output map h2 output map files file system based href http stackoverflow answer realized add setting notified em result document em writte output implementing href http www saxonica documentation9 javadoc net sf saxon lib outputuriresolver html rel nofollow outputuriresolver made writes hashmap main file add lines create map set proper setting outputuriresolver map 