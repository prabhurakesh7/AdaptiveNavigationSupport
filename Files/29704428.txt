run unit tests controllers require authentication 
spring boot application requires login actions test doesnt work http response status forbidden wrong authentication part href http docs spring io spring security site docs reference htmlsingle test rel nofollow documentation wasnt working current testing code missing experience spring boot 

user run test options option link detailed documentation href http docs spring io spring security site docs reference htmlsingle test method withmockuser withmockuser option create fake user user exist data store problem approach application relies custom user implementation class cast exceptions return custom type custom userdetailsservice solution work fine href http docs spring io spring security site docs reference htmlsingle test method withuserdetails withuserdetails implemented custom userdetailsservice returns custom implementation userdetails solution work work expose userdetailsservice bean user exist href http docs spring io spring security site docs reference htmlsingle test method withsecuritycontext withsecuritycontext worlds requires additional setup custom userdetailsservice returning custom implementation userdetails user necessarily exist method ill read documentation setup bit lengthy documented href http docs spring io spring security site docs reference htmlsingle test mockmvc securitycontextholder rpp requestpostprocessor annotations arent thing requestpostprocessor 