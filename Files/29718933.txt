mongodb server chosen readpreferenceserverselector 
recently mongodb async driver newly released writing simple test codes callback function called console output blockquote april afternoon mongodb diagnostics logging jullogger log message cluster created settings hosts localhost mode single requiredclustertype unknown serverselectiontimeout ms maxwaitqueuesize br strong database connected strong april afternoon mongodb diagnostics logging jullogger log message strong server chosen readpreferenceserverselector strong readpreference primary cluster description clusterdescription type unknown connectionmode single serverdescription address localhost type unknown state connecting waiting ms timing blockquote callback function called 

short answer callback called eventually long answer lets work code doesnt block waiting connection mongodb background internal connection pool connect logs default 30000ms step output immediately database connected printed finally call whats clear waits callback called add latch await response callback called latch callback called things happen ol li mongodb eventually call callback print error wait times li li mongodb eventually connect database apply print database finally call callback signalling finished li ol 