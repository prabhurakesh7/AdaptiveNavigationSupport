jpa query elementcollection key 
entity class called user variable username elementcollection map represent friendship users mapped userid start date id friend code relation display friends profile page user access map ids find usernames friends id custom query friends usernames id map confusing fail find proper statement greatly appreciated edit clarify custom query statement sql statement thought basically userid dereference scalar collection element userid table 

make entities relation strong edit strong understand correctly class embeddable class href http www thejavageek jpa elementcollection annotation rel nofollow http www thejavageek jpa elementcollection annotation create entity href http www concretepage hibernate elementcollection hibernate annotation rel nofollow http www concretepage hibernate elementcollection hibernate annotation good href https en wikibooks org wiki persistence elementcollection rel nofollow https en wikibooks org wiki persistence elementcollection 