imagej cumulative histograms histograms 
run small problem program unable find highest histogram calculate scale histogram supposed entire histogram bounds hope driving crazy 

set actual em em current em index em loop limit loop prevent errors case set array length returns dont provide runnable entire class assume implement didnt test code clear achieve 