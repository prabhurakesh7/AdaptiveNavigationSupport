adobe cq aem connect db custom login module 
working custom login module extends checks credentials ldap source id database additional data write profile id jdbc connections pool service figure reference guess object passed method provide service find set service reference writing edit based helpful comments give access correct bundle bundle id debugger match jdbc pool provider access service requests reference back null single reference jdbc pool service factory commented code array class filter parameters null filter parameters annotation id include target parameter guessing missing filter wrong 

link information connecting sql databases href https docs adobe docs en cq developing jdbc html rel nofollow https docs adobe docs en cq developing jdbc html essence shows deploy bundle wrapping hsqldb driver osgi bundle pom service obtain object article shows jsp servlet service reference service annotation edit service component href https osgi org javadoc r4v43 core org osgi framework frameworkutil html rel nofollow frameworkutil class edit jwepurchase jdbc service service persistent id parameter null passing class parameter doesnt work 