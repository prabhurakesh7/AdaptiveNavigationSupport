add partitions existing topic kafka 
kafka cluster running partitions increase partition count dont lose existing messages topic stopping kafka modifying file increase number partitions restart kafka change kafka partitions kafka version version script called guess trick dont script accomplishing experiment creating topic partitions change file existing topics doesnt care 

href https kafka apache org documentation html rel nofollow script blockquote bin kafka topics sh zookeeper zk host port chroot alter topic topic partitions blockquote code thing kafka topics sh executes href https github apache kafka blob core src main scala kafka admin adminutils scala lc133 rel nofollow piece code href https github apache kafka blob core src main scala kafka admin addpartitionscommand scala rel nofollow addpartitionscommand kafka add partition script aware partitioning key blockquote aware case partitions semantically partition data adding partitions doesnt change partitioning existing data disturb consumers rely partition data partitioned hash key number partitions partitioning potentially shuffled adding partitions kafka attempt automatically redistribute data blockquote 