ssh execute multiple commands file list hosts file write output file 
thoughts provided code working command program won run command command file script won execute properly ls log file login tue jun localhost lsmyhost myaccount ls jssh class linebuilder class 

time call em overwriting em file calling command result file output command executed fileoutputstream wrapped bufferedoutputstream improves performance true long time existed guessing output commands hosts log file case create outputstream em em loops create connection command move lines loop theyre creation channel href http epaul github io jsch documentation javadoc jcraft jsch channel html setoutputstream 28java io outputstream 20boolean rel nofollow documentation setoutputstream states calling call channel connect single outputstream commands hosts pass argument jsch wont close outputstream fact href http epaul github io jsch documentation javadoc jcraft jsch channel html setinputstream 28java io inputstream rel nofollow documentation setinputstream thing called calling connect manage youll create background thread feeds lines inputstream pipe accomplished pipedinputstream pipedoutputstream thread read stream fed thread revised version word caution calling string getbytes converts strings characters bytes platforms default charset windows utf16 le bytes character making ssh connections windows unix linux machines typically expect characters encoded utf lot failures easy solution explicit charset assuming charset target machines 