audiorecord producing gaps zeroes android 
audiorecord attempted write test app record couple seconds audio displayed screen repeating pattern regions shown normal behaviour error code img src http imgur t5oti4k png alt zeros mainactivity testview 

navigation bar icons make running android bug android release precisely problem recording shorts gave erroneous return preview substantially reworking code fixing mistakenly doubled offset argument release code increments index correct amount read call pointer math mistake audio internals double offset pass meaning period recording ends equal period unwritten buffer gaps zeroes issue reported href http code google android issues detail id rel nofollow http code google android issues detail id patch submitted time fall declined dealt internally git history aosp internal commit href https android googlesource platform frameworks base 283a9d9e15e095493a7d9800667e49169143e7e3 5e f0 rel nofollow 283a9d9e1 november public encountered month havent fix broken preview works correctly earlier simplest workaround consistent behavior broken unbroken release versions avoid passing offset recording shorts fixed program encountered problem complicated idea figure broken version halve passed argument method detect device version conceivable vendor custom rom builds patched step short recording test offset zeroed buffer scan data starts 