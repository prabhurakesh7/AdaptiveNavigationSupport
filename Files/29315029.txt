mockito core create mock final class 
href https github relayr android sdk blob master tests src androidtest io relayr ble service onboardingservicetest rel nofollow find github standart mockito make instance final class bluetoothgatt class href https code google mockito wiki faq rel nofollow mockito faq blockquote limitations mockito ul li li li mock final classes li li li ul blockquote checked bluetoothgatt standard android sdk mock final class build project test working make mock final class core mockito code finally working idea make mock final class android instrumentation testing href http stackoverflow questions make mock final class powermock 

robolectric designed create substitute implementations android standard classes including final classes methods hood works similar ways powermockito classloader establish classpath favors mocks mock implementations android classes robolectric called em shadows em library incomplete youll href http robolectric org custom shadows rel nofollow create custom shadow suits easy mockito method calls robolectric methods instances shadows write shadow implementations save method arguments instances 