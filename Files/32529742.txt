roll back transaction happening microservices 
architecture part independent legacy reasons situation call method part updating legalservice db updating userservice db userservice running separate vm situations legal service db updated call userservice failing leaves application inconsistent state fix recommended 

situation handled jta global distributed transactions jta part ee standard implementors atomikos tool choice href http www javaworld article open source tools distributed transactions spring xa html rel nofollow good writeup dave syer spring ecosystem contributor working examples bit outdated relevant apply modern spring abstractions top examples created href https github lkrnac book eiws code samples tree master jta rel nofollow github examples jta transactions book notice errors simulated transaction spread jms jdbc datasources strong bear mind jta transactions data sources slow phased commit algorithm involved strong people avoid deal inconsistencies pragmatically 