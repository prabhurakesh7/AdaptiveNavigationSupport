javassist side effects classpool makeclass 
investigating strange strong exception strong running strong strong application instrumented strong agent strong strong javassist strong br br investigation javassists href http jboss javassist github io javassist html javassist classpool html makeclass io inputstream rel nofollow classloading strong side effects calling method strong br minimalistic version reproduces bug br br returning untouched representation class modifying classes br strong removing line application behaves strong strong question strong br give hint whats wrong side effects causing 

perform load time transformation method called classes attempted loaded transformer installed includes classes required javassist haven loaded don exclude classes creating circular dependency jvm reacts class transformer running thread side changing class recommend returning jvm didn change jvm doesn written array parse data compare original bytes find changed performance issue 