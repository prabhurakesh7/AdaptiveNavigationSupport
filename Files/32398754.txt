connect ftps server data connection tls session 
environment sun jdk bit windows spring integration internally appears apache commons net ftps access attempting integrate application automatic download clients ftps server successfully sftp servers spring integration trouble clients issues time client required ftps connect puzzling real application configuring spring integration xml beans understand whats working test code anonymizing actual host username password running code tls debugging information printed main control connection ftps server works fine open data connection list data connection caused uncomment swallowing exceptions catch block command javax net debug output server message rejecting data connection ssl handshake pre class lang prettyprint override appears happening time dealing ftps dealt plain ftp server ensures authentication encryption control data connections normal tls connection establish control connection authentication data connection requires client connect tls session makes sense supposed work apache commons net ftps implementation doesnt establish tls session server rejecting attempt based href https stackoverflow question resuming ssl sessions jsse appears assumes requires session host post combination hypothesis ftps data connection port control connection finding existing session establish connection fails main possibilities ol li server ftps standard requiring tls session data port control port connect server fine host user password code filezilla server identifies filezilla server beta login sort proprietary filezilla things odd convince tls session li li apache commons net client doesnt follow ftps standard subset doesnt securing data connections odd appears standard connecting ftps li li completely missing misdiagnosing li ol id direction provide connect kind ftps server 

ftp servers require tls ssl session reused data connection security measure server verify data connection client control connection references common ftp servers ul li vsftpd href http scarybeastsecurity blogspot cz vsftpd released html rel nofollow http scarybeastsecurity blogspot cz vsftpd released html li li filezilla server href https svn filezilla project org filezilla view revision amp revision rel nofollow https svn filezilla project org filezilla view revision amp revision li li proftpd href http www proftpd org docs contrib mod tls html tlsoptions rel nofollow http www proftpd org docs contrib mod tls html tlsoptions directive li ul hr implementation cyberduck ftp client support tls ssl session reuse apache commons net library ul li href https trac cyberduck io ticket rel nofollow https trac cyberduck io ticket reuse session key data connection li li href https trac cyberduck io browser trunk source ch cyberduck core ftp ftpclient rel nofollow code extends commons net href https trac cyberduck io browser trunk source ch cyberduck core ftp ftpclient rev l92 rel nofollow override method li li method added commons net specifically tls ssl session reuse implementation br href https issues apache org jira browse net rel nofollow https issues apache org jira browse net native support reuse pending br href https issues apache org jira browse net rel nofollow https issues apache org jira browse net li li override spring integration return custom implementation session reuse support li ul 