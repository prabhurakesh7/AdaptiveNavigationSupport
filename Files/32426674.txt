notify specific user websockets modified database 
order notify users websockets modified selected jpa entities basic approach selected jpa entity modified cdi event raised observed cdi observer observer consumer invokes static method defined websockets endpoint sends json message notification users connections logic inside method modified selected users notified ul li notify user responsible modifying entity question admin user registered user modify successful login li li notify specific user specific means post voted site post owner notified post voted user sufficient privileges li ul initial handshake establised accessed stated href http stackoverflow answer insufficient accomplish tasks mentioned bullets handshake request made attribute set session server endpoint words session attribute set handshake established acceptable canonical notify selected users mentioned conditional statement method required appears users glassfish server ee 

h2 session h2 blockquote em handshake request made attribute set session server endpoint words session attribute set handshake established em blockquote bitten ambiguity word session lifetime session depends context client websocket ws session lifetime http session ejb session lifetime http session legacy hibernate session lifetime http session etcetera http session understand explained href http stackoverflow questions servlets work instantiation shared variables multithreading servlets work instantiation shared variables multithreading ejb session explained href http stackoverflow questions jsf request scoped bean recreating stateful session beans req jsf request scoped bean recreating stateful session beans request h2 websocket lifecycle h2 ws session tied context represented html document client basically javascript code ws session starts javascript ws session stops javascript explicitly invokes function instance html document unloaded result page navigation clicking link bookmark modifying url browsers address bar page refresh browser tab window close create multiple instances dom url path query string parameters time ws session starts time javascript fire handshake request access http session href http docs oracle javaee api javax websocket server serverendpointconfig configurator html rel nofollow class found called http session html document expect called time created brand instance href http docs oracle javaee api javax websocket server serverendpoint html rel nofollow annotated class created href http docs oracle javaee api javax websocket onopen html rel nofollow annotated method invoked youre familiar jsf cdi managed beans treat class method class unlike servlet application scoped basically ws session scoped ws session instance safely assign instance variable depending class design abstract template add back 1st argument methods supported href http docs oracle javaee api javax websocket onmessage html rel nofollow annotated method invoked javascript href http docs oracle javaee api javax websocket onclose html rel nofollow annotated method called ws session closed exact close reason determined close reason codes href http docs oracle javaee api javax websocket closereason closecodes html rel nofollow enum href http docs oracle javaee api javax websocket onerror html rel nofollow annotated method called exception thrown io error ws connection broken pipe connection reset h2 collect ws sessions logged user h2 coming back concrete functional requirement notifying specific users explanation understand safely rely extract logged user http session time provided created em em user logged inside ws endpoint class hand annotated method collect application scope collect field endpoint class cdi support ws endpoint broken environment works wildfly tomcat weld glassfish simply collect application scoped cdi managed bean turn endpoint class instance user logged remember user multiple ws sessions youd basically collect structure fine grained mapping maps user id group role easier finding specific users depends final requirements heres kickoff application scoped cdi managed bean finally send message specific user cdi managed bean additional advantage injectable cdi managed bean allowing easier integration h2 fire cdi event users h2 fire cdi event previous related question href http stackoverflow questions real time updates database jsf ee real time updates database jsf ee changed entity hands find users relationships model blockquote em notify user responsible modifying entity question admin user registered user modify successful login em blockquote hr blockquote em notify specific user specific means post voted site post owner notified post voted user sufficient privileges em blockquote cdi event observer pass h3 h3 ul li href https tools ietf org html rfc6455 rel nofollow rfc6455 websocket protocol describes protocol li li href http www w3 org tr websockets rel nofollow w3 websocket api describes js interface li li href https developer mozilla org en docs web api websockets api writing websocket client applications rel nofollow mdn writing websocket client application describes ws api client li li href https docs oracle javaee tutorial websocket htm gkjiq5 rel nofollow ee tutorial websocket describes api li ul 