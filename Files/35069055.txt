stream operation fusion stateful intermediate operations 
understand showcase streams implement type loop fusion hood operations fused single pass output fusion single pass element clear sorted operation filter map output question call distinct correct thinking stateful intermediate operation individual elements processed individually single pass operations sorted stateful operation process entire input stream produce result fusing technique deployed filtering occurs fuses mapping printing operations sort correct assumptions incorrect feel free elaborate addition decide hood fuse elements single pass distinct operation exists simply flag switches stop happening distinct final query whilst benefit fusing operations single pass combined short circuiting main benefits fusing operations filter map foreach filter map sum 

em stateless em operations map filter flatmap peek fully fused build chain cascading objects pour data element operated independent stuck chain louis means fusion implemented compose stages big function feed data em stateful em operations distinct sorted limit complicated vary behavior stateful operation choose implement choose intrusive approach circumstances lets elements vetted full barrier difference laziness handle things infinite sources limit operation downstream true stateful operations generally undermine benefits fusion operations upstream downstream fused addition short circuiting observed additional big wins fusion include dont populate intermediate result containers stages data dealing hot cache 