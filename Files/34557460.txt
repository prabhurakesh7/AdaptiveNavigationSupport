spring boot thymeleaf database templateresolver multi tenant environment 
spring boot thymeleaf multi tenant application thymeleaf process email templates generate html email order created retrieves thymeleaf templates prefixed db database spring boot auto configuration picks template resolvers adds template resolver set expected resolver added templates names start db read database store specialized email templates processed thymeleaf engine produce resulting html worked scope custom scope defined tenant multi tenant environment determined domain session scoped purpose question thought templateresolver scope reading tenants database template finally symptom em em tenant works fine subsequent tenants exception attempting process database template disabling spring boot auto configuration thymeleaf manually setting templateengine viewresolver templateresolvers problem making scope ran mess back tracked feeling wrong wrong idea dependency injection work situation thymeleaf engine implemented compatible proxy object leaning extend template engine initializes resolvers tenant thymeleaf thinks resolver initialized spring injects resolver initialized thymeleaf exception give push direction strong edit strong code thymeafs method called templates processed engine configuration initialized things method initializes strong calls initialize strong marks engine strong initialized strong marked initialized engine initialized configuration initialized design thinking thought correct injected scope initialized accurately marked initialized major reasons flags running complete configuration prevent configuration running found assumptions changed check initialization template processed brute force method appears work interfere intent thymeleaf authors based guess hoping strong versions strong ul li thymeleaf release li li spring release li li spring boot release li ul 

calls engine initialization case scoped injected initialized create inject initialized add step bean creation concern unforeseen side effect manually calling initialize dont thymeleaf good 