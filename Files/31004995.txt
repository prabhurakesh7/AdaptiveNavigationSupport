anonymize amazon public url decode script nginx 
wondering anonymize public url user makes request anonymized public url nginx decode fetch serve url public url anonymized url nginx decodes added image clarification nginx reverse logic decode logic anonymize url img src http stack imgur s1lzr png alt enter image description strong question strong nginx decode anonymized url nginx anonymized url request decode 

answer updated question blockquote question nginx decode anonymized url nginx anonymized url request decode blockquote nginx make request script href http nginx org proxy pass rel nofollow href http nginx org fastcgi pass rel nofollow al script decode url provide actual url http response header http status nginx decoded url stored href http nginx org upstream http rel nofollow variable subsequently al named href http nginx org location rel nofollow redirect processing original request user href http nginx org error page rel nofollow user request processed nginx itll transparent user simply receive resource original url redirects internally nginx 