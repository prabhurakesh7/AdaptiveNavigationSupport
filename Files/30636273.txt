ejb jpa transaction boundaries 
reading href https docs oracle javaee tutorial doc bncij html rel nofollow ejb transaction boundary transaction boundary lets concentrate modified diagram link img src http stack imgur uyrjh png alt enter image description annotated theory calls transaction start started transaction suspended returns transaction committed hr section create jpa entity pass entity set field entity return transaction db entity committed suspended transaction started hr ps db running read committed isolation level 

scenario governed ol li jpa persistence context relationship jta transactions li li behaviour em pass reference em em em parameter passing local interfaces pass reference end answer li ol creating entity manager annotation leads creation transaction scoped entity manager persistence context defined file context track entities types entity managed context persisted found merged context running jta transaction transaction ends present persistence context flushed committed rolled back transaction rolls back scenario assume bean2 local interface called transaction started method annotated transaction calling method suspended persistence context newly created transaction entity passed refer instance entity processed instance managed entity persistence context bean1 entity manager transaction persistence context suspended restrictions modifying entity transaction nominal sequence events ol li called transactiona starts li li transaction scoped entity manager created persistence context transactiona li li calls passes entity parameter li li transaction transactionb starts transactiona suspended li li modifies field li li bean2 methodb finishes transactionb commits li li transactionb jta persistent resources commit em entity em persistence context transactiona committed li li bean1 methoda resumes transactiona li li entity made visible persistence context li li finishes transactiona commits persistence context flushed committed db li li db field change made li ol strong bean2 mehodb transaction rolls back strong worth noting entity field made transaction rolls back class fields reverted jta resources rolled back entity field reflected db completes successfully leading potential inconsistencies real world problems force solution modify entities transaction roll back strong em scenarios tested eclipse mars wildfly8 hibernatejpa derby em strong strong working remote ejb calls strong entity parameter serialised resulting copy entity copy object detached entity shared em pass em end answer order reflected persistence context entity returned merged persistence context entity manager merging required remote ejb call made transaction strong pass reference pass strong parameters pass definition good extended discussion stack overflow href http stackoverflow questions pass reference pass quot pass reference quot quot pass quot important local interfaces passes copy reference pointer shared instance people understand pass reference remote interfaces create copy entity instance remote end calling method visibility copy pass 