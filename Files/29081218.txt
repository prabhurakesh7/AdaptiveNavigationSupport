create compressed zip archive zipoutputstream method getsize zipentry returns correct size 
code put single file zip archive read archive output create uncompressed zip archive method getsize returns correct size output correct compressed zip archives correct exists zip archives ark program strong question strong create strong compressed strong exists zip archive returns correct size entry standard libraries href http stackoverflow questions zipinputstream read output zipoutputstream recommendation work output 

set uncompressed size set crc compressed size information stored header actual data rewind arbitrary calculate values writing store calculate verifying provided values solution calculating values pass writing utilizes fact rewind stream backed file handles uncompressed compressed entries default compression level method querying current level change compression level precalc code sync alternatively move logic subclass href http docs oracle javase docs api util zip deflateroutputstream html def rel nofollow automatically configuration solution working arbitrary source input streams require buffering entire entry data 