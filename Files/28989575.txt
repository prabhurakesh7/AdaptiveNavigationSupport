jpa entitymanager merge attemps cascade update deleted entities 
facing problem entitymanager merge merge cascaded entities deleted database entities situation problem occurs ol li user creates parent instance creates child instances based template choosing calling createchildren method template defines amount properties created children li li user saves parent cascades persist children li li user notices template wrong template saves results deletion children creation li ol commonly deletion children handled automatically orphanremoval property child entity multi column unique index children created based template identical values columns index original children flushed database jpa performs inserts updates deletions href http docs jboss org hibernate orm javadocs org hibernate event internal abstractflushingeventlistener html performexecutions 28org hibernate event spi eventsource rel nofollow hibernate constraint violation occurs oracles deferred constraints solve support ms sql afaik doesnt support deferred constraints correct wrong order solve manually delete children flush create children save artificial code snippet shows essential parts whats happening due framework works strong entities passed method detached state strong afraid part problem line throws exception entitymanager attempts load children merge fails theyre deleted question strong load place strong importantly strong prevent strong thing mind stale cache issue refresh parent unsaved lost detached setting parent reference explicitly null child deleting evict children 2nd level cache deleting helped havent modified jpa cache settings hibernate strong update strong fact clearing children parent bit ambiguous originally updated code snippets make clear 

removing children parent deleting cascaded parents collection strong update strong order operations problems works 