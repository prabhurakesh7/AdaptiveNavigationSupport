jms topology queue multiple consumers message grouping 
simplified schematic topology set ul li node server standalone cluster jboss application server jboss as7 including messaging li li messaging server deploys jms queues li li task server deploys mdb queue consumers li li message producers inbound adapter message consumers mdbs outbound fact front node config deployed artifacts server nodes li ul problem application multi tenant queue tasks message processing processed parallel tenant set href http docs jboss org hornetq final user manual en html single message grouping rel nofollow message grouping handle constraint message group tenant set message producer sending message platform tenant message groups queue consumers server tasks servers monitoring queue messaging server thousands messages queue consumers expects message delivered practice delivery message count exceed whats problem topology suitable 

href https developer jboss org thread rel nofollow answer jboss hornetq support forum cr dits justin bertram blockquote youre aware queue fifo semantics grouped messages basically act bottleneck queue ensure serial message processing heres simple groups messages total messages queue order consumers consuming group consumer group receive message process acknowledge removed queue receive message process acknowledge removed queue time consumer group busy messages messages consumed queue message acknowledged consumer group receive message group consumer group acknowledges messages consumer group finally receive messages group behavior governed fifo semantics queue messages group leap frog messages group consumed messages group consumed messages group messages group expect delivery count exceed blockquote 