classcastexception converting tif pdf itext 
itext version tested 64bit windows heres code generates error 

deep dive hex surgery file exception itext ultimately bug screed describing file structured primary ifd end file file header tiff intel endian byte order primary ifd starts offset 0x6c9c skip ahead spot call stack tracing back source call made fill order fill order bit files describes high order bit low order bit byte leftmost display called fill order tag ifd byte integer call causing failure code throw classcastexception type doesnt match case type constants cases tags type code wrong problem tiff tags spec pretty clear fact fillorder tag 10a unsigned short type tag file unsigned byte int type switch statement doesnt account case tiff long case surrounding code library treats byte unsigned integers type long treat byte unsigned int byte signed int overflow sign bit legal values tag trigger cast em em error treated ultimately bug things ol li precisely unsigned integer type playing home library chose represent unsigned byte int li li file spec tag li ol specifically impedance mismatch chosen types tiff file field code attempting type strong calling code strong attempting strong accept wide variety types missed case looked tag code grins suffer problem answer version getintvalue overflow sign bit real fix change code alternately perform hex surgery file change data type fill order tag ultimately poor solution consuming code susceptible bad tiff files hr h2 strong gratuitous screed strong h2 thing learned past years working tiff files shortage broken tiff files shortage engineers didnt read spec failed implement correctly making broken files engineer number grad students tiff output write quick dirty broken encoder correct irfanview open output invalid test irfanview tiff codec open wide variety fundamentally broken tiffs href https partners adobe public developer en tiff tiff6 pdf tiff specification deceptively straight forward format feels easy generate tags logical ifds simple collections tags pointer tags tricky manageable code written lacks level abstraction prevent classes error slip file written grad student dont case problem caused href http www fcoder fcoder put software string calling put software string identify bug incorrect type due copy paste error source minor bug causing problems theyll fix world top priority drop bug generates bad file hell fix code meantime itext update code accept class file lessons learned ol li specification answer question file correct li li hard write decent tiff encoder decoder commercial library writing found bugs commercial libraries li li put software string generate file contact issue li ol endeth lesson 