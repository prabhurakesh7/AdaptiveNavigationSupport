commons net ftpclient hangs indefinitely mule 
encountered issue mule esb ftp transport polling thread running client hang indefinitely throwing error ftp poll stop completely mule apache commons net ftpclient code caused sockettimeout ftpclient set causing infinite hanging reading lines ftpclients socket problem stacks retrieved jstack problem occured getreply function direct link problem hanging connect call creating ftpclient hanging pasv call listfiles problem caused default ftpclient constructor extending socketclient mule default ftpconnectionfactory setconnecttimeout values calling socket connect operations socket ftpclient constructor socketclient timeout defined creating socket call connec calls connectaction socketclient ftp reader instanciated everlasting socket calling getreply function reader everlasting socket long post required correct explanations solution call setsotimeout connect define socket timeout default timeout acceptable solution users default suitable case href https issues apache org jira browse net rel nofollow https issues apache org jira browse net finally raises questions ol li bug completely stops ftp polling giving error li li easy avoid situation calling setsotimeout custom ftpconnectionfactory missing configuration parameter li ol advance edit mule ce standalone apache commons net code mule ce standalone commons net source codes involved href https github mulesoft mule blob mule transports ftp src main org mule transport ftp ftpconnectionfactory rel nofollow https github mulesoft mule blob mule transports ftp src main org mule transport ftp ftpconnectionfactory href http grepcode file repo1 maven org maven2 commons net commons net org apache commons net socketclient rel nofollow http grepcode file repo1 maven org maven2 commons net commons net org apache commons net socketclient href http grepcode file repo1 maven org maven2 commons net commons net org apache commons net ftp ftp rel nofollow http grepcode file repo1 maven org maven2 commons net commons net org apache commons net ftp ftp href http grepcode file repo1 maven org maven2 commons net commons net org apache commons net ftp ftpclient rel nofollow http grepcode file repo1 maven org maven2 commons net commons net org apache commons net ftp ftpclient 

reproduced error previous cases href http mockftpserver sourceforge net rel nofollow mockftpserver ftpconnectionfactory solve issue attaching connector configuration net sockettimeoutexception thrown timeout attempt connect pasv hang indefinitely server response reproduced exact behavior mock ftp setdefaulttimeout variable connect connectaction socketclient source strong edit strong interested test code mock ftp reproduce answering server infinite loop good practice replaced sleep enclosing test class expecting sockettimeout exception ensuring failure timeout 