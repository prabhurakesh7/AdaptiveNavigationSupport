spring bean injection failing due proxy 
strong spring version strong release release strong mockito version strong introduce h2 tests project integration testing running issues due transactions propagating needed mock autowired class running severe problems error message thrown initialising test blockquote org springframework beans factory beancreationexception error creating bean stuff xmlitcase injection resource dependencies failed nested exception org springframework beans factory beannotofrequiredtypeexception strong bean named theprocessor type stuff xmlbatchfileprocessor type proxy118 strong org springframework context annotation commonannotationbeanpostprocessor postprocesspropertyvalues commonannotationbeanpostprocessor blockquote diving bit deeper turns bean fact proxy check abstractbeanfactory round line proxy blockquote sharedinstance proxy117 stuff xmlbatchfileprocessor 66c540d0 org springframework aop framework jdkdynamicaopproxy blockquote problem clue coming config dependencies find happening h2 project setup h2 give sample project ill test configuration root class extend tests simply loads spring config rolls back transactions test spring config strange difference module transaction manager session factory module entitymanagerfactory transaction manager class autowired fields usual service annotation finally actual test replace xmlbatchfileprocessor interface autowire field arent problems compiling mockito replaces autowired bean mocked object wouldnt bother resource annotations naming service avoiding proxy issue assistance ill focusing session factory differences missing h2 edit h2 sotirios comment morning missed xmlprocessor annotation meaning class proxied remove declaration cglib enhance mockito replace bean called method called cglib replace beans spring enhanced versions overwriting mockito version correct mockito spring integration test class annotations 

alright realised class proxied due annotation solution problem clearer needed unwrap proxy set mocked object directly left classes intact injecting correct mocked object 