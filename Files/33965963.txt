spring security kerberos kerberos ad error access denied key store 
kerberos sample app found href https github spring projects spring security kerberos tree master spring security kerberos samples sec server win auth rel nofollow https github spring projects spring security kerberos tree master spring security kerberos samples sec server win auth href http docs spring io spring security kerberos docs release reference htmlsingle samples sec server win auth rel nofollow http docs spring io spring security kerberos docs release reference htmlsingle samples sec server win auth modifying src main resources application yml fit system back creating spns keytab files spring application starting fine kerberos config console output blockquote debug true storekey true strong useticketcache false usekeytab true strong donotprompt true ticketcache null isinitiator false strong keytab client server keytab strong refreshkrb5config false principal http client server org realm tryfirstpass false usefirstpass false storepass false clearpass false br principal http client server org realm br keytab br commit succeeded blockquote client app accepted settings access client server chrome machine error acces denied user anonymous supposed redirect authentication entry point ending key store blockquote nio exec spnegoauthenticationprocessingfilter received negotiate header request client server favicon ico negotiate yiihzaygkwybbqucoiihwdccb1sgmdaubgk 9adsofh2ya7c br nio exec authentication providermanager authentication attempt org springframework security kerberos authentication kerberosserviceauthenticationprovider br nio exec kerberosserviceauthenticationprovider validate kerberos token br nio exec kerberosserviceauthenticationprovider strong succesfully validated myusername realm strong br nio exec filterbasedldapusersearch searching user myusername realm user search searchfilter searchbase dc xxxxx scope subtree searchtimelimit dereflinkflag false br debug true storekey true strong useticketcache true usekeytab true strong donotprompt true ticketcache null isinitiator true strong keytab null strong refreshkrb5config false principal http client server org realm tryfirstpass false usefirstpass false storepass false clearpass false br acquire tgt cache br principal http client server org realm br debug nio exec httpsessionsecuritycontextrepository securitycontext empty contents anonymous context stored httpsession debug nio exec securitycontextpersistencefilter securitycontextholder cleared request processing completed error nio exec dispatcherservlet servlet service servlet dispatcherservlet context path threw exception org springframework ldap authenticationexception key store nested exception javax naming authenticationexception key store root exception javax security auth login loginexception key store blockquote appears app validate user idea find user info viewing source krb5loginmodule cr openjdk net weijun webrev raw files src share classes sun security auth module krb5loginmodule find login exception key store simple search code ktab keytab guessing null strangely console output navigate browser keytab null wasn started application keytab null user access application wrong application system configuration 

slept weekend strangely looked solution works tgt acquired cache past renewal time don works keytab accepted user navigates application br problem left ldap couldn find user details due mismatch kerberos username query ldap implement org springframework security ldap search filterbasedldapusersearch modify username solution worked 