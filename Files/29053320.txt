determine platform jna setsockopt 
writing implementation jna href http docs oracle javase docs technotes guides net socketopt html rel nofollow supports setsockopt doesnt support platform specific socket options instance doesnt support linux options portable jna route poor portability aware dont bother idea deeply horrible id make code reuseable works linux id work target platforms socket option throw exception challenge jna works fine values socket options platforms instance os linux realise controllable normal easy test linux os isnt controllable id representing socket option platform dependent map os linux easy platform jna map jna sense platform presume call native libraries 

string parsing pretty horrible guess good results href https github abligh jnasockopt rel nofollow https github abligh jnasockopt specifically href https github abligh jnasockopt blob master src org jnasockopt jnasockoptiondetails rel nofollow https github abligh jnasockopt blob master src org jnasockopt jnasockoptiondetails 