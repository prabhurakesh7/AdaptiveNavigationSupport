doeval multiline string argument 
em groovy gmongo mongodb em count documents collection reasons invoking single line string argument returns retval double double expect argument multiple lines retval returned null expect doeval return retval null bug expectation incorrect support multiline string argument 

href https api mongodb org current mongodb db html doeval lang string lang object rel nofollow javadoc blockquote evaluates javascript functions database server touch lot data lightly case network transfer bottleneck strong parameters strong string representation javascript function arguments pass javascript function blockquote passing javascript function method result consistent result invoking directly mongo shell dig deeper mongo shell javascript internals passing javascript function result yields 