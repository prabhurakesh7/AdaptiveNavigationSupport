lucene sort problems uninvertedreader docvalues 
working search engine built lucene trouble sort updated option search error searching sort option blockquote exception thread main lang illegalstateexception unexpected docvalues type field stars expected numeric uninvertingreader index docvalues br org apache lucene index docvalues checkfield docvalues br org apache lucene index docvalues getnumeric docvalues br org apache lucene search fieldcomparator numericcomparator getnumericdocvalues fieldcomparator br org apache lucene search fieldcomparator numericcomparator dosetnextreader fieldcomparator br org apache lucene search simplefieldcomparator getleafcomparator simplefieldcomparator br org apache lucene search fieldvaluehitqueue getcomparators fieldvaluehitqueue br org apache lucene search topfieldcollector nonscoringcollector getleafcollector topfieldcollector br org apache lucene search indexsearcher search indexsearcher br org apache lucene search indexsearcher search indexsearcher br org apache lucene search indexsearcher search indexsearcher br org apache lucene search indexsearcher searchafter indexsearcher br org apache lucene search indexsearcher searchafter indexsearcher br org apache lucene search indexsearcher search indexsearcher br org apache lucene search indexsearcher search indexsearcher br searchengine searchbusinessbycategory searchengine br tests searchenginetest tests br main main main blockquote indexed document double field stars sort search results document highest stars top implemented search command sort option stars field found similar discussions online talk solr elastic search dont provide lucene snippet general implementative solution strategy lucene blockquote solr docvalues falls back wrapping uninvertingreader user indexed negative startup performance memory effects general enable docvalues fields sort href http grokbase lucene user 152q2jcgzz lucene illegalstateexception sorting rel nofollow ttp grokbase lucene user 152q2jcgzz lucene illegalstateexception sorting blockquote uninvertingreader docvalues 

define custom doublefield constructor store docvalues add doc docvalues 