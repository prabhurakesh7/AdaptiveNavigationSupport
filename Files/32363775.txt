mongos routing readpreference nearest 
trouble diagnosing issue applications requests mongodb routed nearest replica hope start explaining configuration strong configuration strong running mongodb instance production sharded replicaset single shard hasnt big require split single shard backed node replica set nodes replica set live primary data center 3rd node lives secondary datacenter prohibited master node run production application simultaneously data centers instance secondary data center operates read mode writes data mongodb serves client requests reads existing data objective configuration ensure primary datacenter serve client read traffic dont waste hardware secondary datacenter happy times actively load balance portion read traffic instance application running secondary datacenter application instance configured readpreference nearest pointed mongos instance running localhost version mongos instance configured point node replica set mongos failover node replicaset strong problem strong problem requests hit mongos secondary datacenter routed replica running primary datacenter nearest node running secondary datacenter incurs significant amount network latency results bad read performance understanding mongos deciding node replica set route request supposed honor readpreference drivers request command run mongos shell status replica set including ping times nodes logging incoming requests node replicaset chosen advice diagnose root issue 

start mongos flag vvvv 4x verbose presented request routing information log files including information read preference host requests routed 