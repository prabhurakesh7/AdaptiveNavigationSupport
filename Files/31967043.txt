netty channel fail write flush fast 
write producer publish message server br searched told channel closed code close channel channel pool destroy channel br code br runner br main br extends br runner class sleep run dont reply sleep result bad send messages crash throw exception avoid br br br bad explain english 

issues explain related wrong usage asynchronous operations future usage ul li dont link issue print channel closed wait future future operations immediately returns waiting real close test false li ul suppose debug purpose mandatory ul li send back pool channel connected explain sleep wait li li validation connected channel li li fourth runner wrongly await future remove rest li li finally suppose test completely sequential thread pool client reuse channel li ul change points corrects issue hr strong edit strong requester comment read carefully block write dont extra future sync directly call command sync write simpler called connect finished future disconnected notice exception channel usable recreated suggest isactive active removed destroyobject channel state model href http netty io wiki noteworthy html wiki h4 rel nofollow 