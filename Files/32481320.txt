parallel application receiving cpu finish task 
parallel running application consumes huge log files applies custom logic log row processed separate thread fire forget approach process stops processing application doesnt assigned cpu execute process application hasnt finished consuming file running strong em top em strong low load average cores href http stack imgur ocaxv png rel nofollow img src http stack imgur ocaxv png alt enter image description running strong vmstat strong user processes running kernel processes idle href http stack imgur om8ig png rel nofollow img src http stack imgur om8ig png alt enter image description output strong em iostat em strong shows pending io tasks running href http stack imgur bjydd png rel nofollow img src http stack imgur bjydd png alt enter image description havent spotted deadlocks starvation taking thread dump threads waiting runnable missing lost don investigate strong update strong part initiates parallel execution thousand lines code applying modification incl elasticsearch akka dont relevant code troubles 

blockquote process stops processing application doesnt assigned cpu execute process application hasnt finished consuming file blockquote dont cpu vmstat iostat level confusing debugging problem terms threads trust os schedule appropriately reason main thread shouldnt finish rows submitted processing block producer regenerating rows spin sleep loop href http stackoverflow questions rejectedexecutionexception free threads full queue rejectedexecutionexception free threads full queue application completing worker threads hung processing row shutdown suspect producer thread exits loop call threads waiting rows added thread dump application stuck worker add logging producer thread finishes completed work figure problem lies 