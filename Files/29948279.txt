set generic property map 
set property map error code copied simplify map jdk 

problem inherently type programming logic type property type property compiler possibly guarantee fact current structure choice abandon compile time safety underlying issue wrong api requirements basic functionality em homogeneous em container meaning values map type enforced api type fixed single instance em heterogeneous em container varies depending key api fixed instances container invocation methods depending key methods generic methods implementation documented josh blochs effective called typesafe heterogeneous container pattern start defining type key maintains type property type property actual type key modify code define container class act map basic idea methods implementation pretty couple subtleties underlying map assured access methods call underlying map assured property thing compiler allowed inserted earlier compiler aware guaranteed cast succeeds justified create type actual key compile time guaranteed returns compile time type returns compile time type heres complete runnable hard make reasons outlined introduction interface defines homogeneous methods inherited interface implement meets requirements easily make implement register bindings 