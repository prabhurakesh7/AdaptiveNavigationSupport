image getraster getdatabuffer returns array negative values 
href http stackoverflow answer suggests strong times faster strong loop pixel array bufferedimage getrgb difference important computer vision program reason rewritten method calculate integral image pixel array problem debug output loop properly retrieve pixel array images 

bug code easily missed loop doesnt loop youd expect loop updates loop body array indexing values pixel hr problem negative pixel values code assumes stores pixels pixel interleaved form stored pixel packed samples pixel stored single sample int case types types stored interleaved completely normal negative values raster happen pixel transparent equal opaque samples packed signed type case possibility created custom type image bit unsigned int sample signed entity mask sign bit complicate computation explicitly scaled positive case dont type image problem ps possibly expensive inaccurate image alpha href http stackoverflow questions hasalpha getalpharaster hasalpha getalpharaster 